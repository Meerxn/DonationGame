<!DOCTYPE html>
<html lang="en">
    
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Donation Game</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<br>
<div class="container">
    <div class="row">
        <div class="card">
            <div class="card-body">
            <h5 class="card-title">Donation Game: Snake</h5>
            <p class="card-text">This is a basic snake game. The scores that you will get will be used as a metric for donating money to organizations. Although there is no max limit to the score 
                there is a max limit donation from one person. After you have finisihed your game there will be a pop window. Please screeenshot it and send it to the socials provided below.</p>
            <blockquote class="blockquote mb-0">
                
                <footer class="blockquote-footer">By Fardeen Meeran & Krishang Patney</footer>
              </blockquote>
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-md-auto">
            <div class="card" style="width: 600px;">
                <div class="card-body">
                    <canvas id="canvasGrid" width="550" height="550"></canvas>
                    <h5 class="card-title">Snake</h5>
                    <p class="card-text"> <p align = "center">Score: <a id = "score" > 0 </a> </p> </p>
                    <div class="row justify-content-md-center">
                        <div class="col-md-auto"><a href="https://www.instagram.com/meerxn_/" class="btn btn-primary">Instagram</a></div>
                        <div class="col-md-auto"><a href="#" class="btn btn-primary">Twitter</a></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-auto">
            <div class="card" style="width: 400px;">
                <div class="card-body">
                     <img src="arrow keys.gif" width="350" alt="Arrows">
                </div>
            </div>
        </div>
    </div>
     

</div>
</html>


<script>
 

    window.onload=function() {

canv=document.getElementById("canvasGrid");

ctx=canv.getContext("2d");

document.addEventListener("keydown",keyPush);

setInterval(game,1000/15);

}
var clicks = 0; 
var apple = new Image();
apple.src = "apple.jpeg"

posX=25
posY=25;

canvasGrid = 25;
tc=25;

ax=ay=15;

xv=yv=0;

trail=[];

tail = 5;

function game() {

posX+=xv;

posY+=yv;

if(posX<0) {

    posX= tc-1;

}

if(posX>tc-1) {

    posX= 0;

}

if(posY<0) {

    posY= tc-1;

}

if(posY>tc-1) {

    posY= 0;

}

ctx.fillStyle="black";

ctx.fillRect(0,0,canv.width,canv.height);



ctx.fillStyle="green";

for(var i=0;i<trail.length;i++) {

    ctx.fillRect(trail[i].x*canvasGrid
    ,trail[i].y*canvasGrid
    ,canvasGrid
    -2,canvasGrid
    -2);
  
    if(trail[i].x==posX && trail[i].y==posY && clicks > 0){
       
        gameOver();
      

    }


}
trail.push({x:posX,y:posY});


while(trail.length>tail) {
    
    

trail.shift();

}



if(ax==posX && ay==posY) {

    tail++;

    ax=Math.floor(Math.random()*tc);

    ay=Math.floor(Math.random()*tc);
  this.scoreUpdate();

}

ctx.fillStyle="red";

ctx.drawImage(apple,ax*canvasGrid
,ay*canvasGrid
,canvasGrid
-2,canvasGrid
-2);

}
function scoreUpdate(){
this.clicks = this.clicks + 1;
document.getElementById("score").innerHTML = clicks;
}
function gameOver(){
    document.getElementById("score").innerHTML = 0;

 alert("Your score was: " +  clicks +  " Send the screenshot for the donation on the socials at the bottom ");
this.clicks = 0     
posX=posY=10;

canvasGrid
=tc=20;

ax=ay=15;

xv=yv=0;

trail=[];

tail = 5;
}

function keyPush(evt) {

switch(evt.keyCode) {

    case 37:
     evt.preventDefault()
        xv=-1;yv=0;

        break;

    case 38:
    evt.preventDefault()
        xv=0;yv=-1;

        break;

    case 39:
    evt.preventDefault()
        xv=1;yv=0;

        break;

    case 40:
    evt.preventDefault()
        xv=0;yv=1;

        break;

}

}






</script>
